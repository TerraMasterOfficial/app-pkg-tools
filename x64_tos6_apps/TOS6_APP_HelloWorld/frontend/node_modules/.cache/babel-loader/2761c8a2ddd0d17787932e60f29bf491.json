{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getLang, getModule } from \"@/api/module/api.js\";\nexport default {\n  data() {\n    return {\n      tabList: [],\n      title: \"\",\n      index: \"\",\n      markStatus: false\n    };\n  },\n\n  methods: {\n    handerTab(e) {\n      this.navigate(e);\n    },\n\n    popup(e) {\n      this.markStatus = e;\n    },\n\n    async loadingLang() {\n      await getLang(\"HelloTOS5\").then(res => {\n        const global = {\n          global: JSON.parse(localStorage.getItem(\"lang\"))\n        }; // 获取系统global语言\n\n        this.$store.commit(\"getLang\", Object.assign(res.data.data.lng, global));\n      });\n    },\n\n    loadingMenu() {\n      // 侧边栏\n      getModule({\n        id: \"HelloTOS5\"\n      }).then(res => {\n        this.index = sessionStorage.getItem(\"index\") || this.index;\n        this.tabList = res.data.data;\n        this.$router.push(this.tabList[this.index].path);\n        this.title = res.data.data[this.index].name;\n      });\n    },\n\n    navigate(e) {\n      this.index = e.index;\n      this.$router.push(this.tabList[this.index].path);\n      this.title = this.tabList[this.index].name;\n      sessionStorage.setItem(\"index\", this.index);\n    }\n\n  },\n\n  async mounted() {\n    await this.loadingLang();\n    this.loadingMenu();\n    window.addEventListener(\"webserver\", this.confirmLeave, false);\n  }\n\n};","map":{"version":3,"mappings":";;;;;;;;;;;AAYA;AACA;EACAA;IACA;MACAC,WADA;MAEAC,SAFA;MAGAC,SAHA;MAIAC;IAJA;EAMA,CARA;;EASAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;IACA,CANA;;IAOA;MACA;QACA;UAAAC;QAAA,EADA,CACA;;QACA;MACA,CAHA;IAIA,CAZA;;IAaAC;MACA;MACAC;QAAAC;MAAA;QACA;QACA;QACA;QACA;MACA,CALA;IAMA,CArBA;;IAsBAC;MACA;MACA;MACA;MACAC;IACA;;EA3BA,CATA;;EAsCA;IACA;IACA;IACAC;EACA;;AA1CA","names":["data","tabList","title","index","markStatus","methods","handerTab","popup","global","loadingMenu","getModule","id","navigate","sessionStorage","window"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n    <div id=\"app\">\n        <x-tree\n            :tabList=\"tabList\"\n            v-on:handerTab=\"handerTab\"\n            :index=\"index\"\n        ></x-tree>\n        <router-view class=\"flex-right\" :title=\"title\" @popup=\"popup\"/>\n        <div class=\"mark\" v-show=\"markStatus\"></div>\n    </div>\n</template>\n<script>\nimport {getLang, getModule} from \"@/api/module/api.js\";\nexport default {\n    data() {\n        return {\n            tabList: [],\n            title: \"\",\n            index: \"\",\n            markStatus: false,\n        };\n    },\n    methods: {\n        handerTab(e) {\n            this.navigate(e);\n        },\n        popup(e) {\n            this.markStatus = e;\n        },\n        async loadingLang() {\n            await getLang(\"HelloTOS5\").then((res) => {\n                const global = {global: JSON.parse(localStorage.getItem(\"lang\"))}; // 获取系统global语言\n                this.$store.commit(\"getLang\", Object.assign(res.data.data.lng, global));\n            });\n        },\n        loadingMenu() {\n            // 侧边栏\n            getModule({id: \"HelloTOS5\"}).then((res) => {\n                this.index = sessionStorage.getItem(\"index\") || this.index;\n                this.tabList = res.data.data;\n                this.$router.push(this.tabList[this.index].path);\n                this.title = res.data.data[this.index].name;\n            });\n        },\n        navigate(e) {\n            this.index = e.index;\n            this.$router.push(this.tabList[this.index].path);\n            this.title = this.tabList[this.index].name;\n            sessionStorage.setItem(\"index\", this.index);\n        },\n    },\n    async mounted() {\n        await this.loadingLang();\n        this.loadingMenu();\n        window.addEventListener(\"webserver\", this.confirmLeave, false);\n    },\n};\n</script>\n<style lang=\"scss\">\n#app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: #2c3e50;\n    width: 100%;\n    height: 100%;\n    display: flex;\n\n    .flex-right {\n        flex: 1;\n        display: flex;\n        padding-left: 24px;\n        margin-top: 48px;\n        flex-direction: column;\n    }\n\n    .mark {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        background: rgba(0, 0, 0, 0.3);\n        z-index: 99;\n    }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}