{"ast":null,"code":"import axios from \"axios\";\nimport VueCookies from \"vue-cookies\";\nconst Axios = axios.create({});\nAxios.interceptors.request.use(config => {\n  // 拦截器\n  if (config.url.indexOf(\"v2\") == \"-1\") {\n    // 重写URL\n    config.url = `/v2/proxy${config.url}`;\n  } // 添加 Token\n\n\n  VueCookies.get(\"X-Csrf-Token\") && (config.headers[\"X-Csrf-Token\"] = VueCookies.get(\"X-Csrf-Token\"));\n  return config;\n}, err => {\n  return Promise.reject(err);\n});\nAxios.interceptors.response.use(response => {\n  if (response.data.code) {\n    // code == true 返回具体信息\n    return response;\n  } else {\n    return Promise.reject(response.data);\n  }\n});\nexport default Axios;","map":{"version":3,"names":["axios","VueCookies","Axios","create","interceptors","request","use","config","url","indexOf","get","headers","err","Promise","reject","response","data","code"],"sources":["/home/yanlin/works/app-pkg-tools/x64_tos5_apps/HelloTOSAPP/frontend/src/api/interceptor.js"],"sourcesContent":["import axios from \"axios\";\nimport VueCookies from \"vue-cookies\";\nconst Axios = axios.create({});\nAxios.interceptors.request.use(\n    (config) => {\n        // 拦截器\n        if (config.url.indexOf(\"v2\") == \"-1\") {\n            // 重写URL\n            config.url = `/v2/proxy${config.url}`;\n        }\n        // 添加 Token\n        VueCookies.get(\"X-Csrf-Token\") && (config.headers[\"X-Csrf-Token\"] = VueCookies.get(\"X-Csrf-Token\"));\n        return config;\n    },\n    (err) => {\n        return Promise.reject(err);\n    }\n);\nAxios.interceptors.response.use((response) => {\n    if (response.data.code) {\n        // code == true 返回具体信息\n        return response;\n    } else {\n        return Promise.reject(response.data);\n    }\n});\nexport default Axios;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,MAAMC,KAAK,GAAGF,KAAK,CAACG,MAAN,CAAa,EAAb,CAAd;AACAD,KAAK,CAACE,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACKC,MAAD,IAAY;EACR;EACA,IAAIA,MAAM,CAACC,GAAP,CAAWC,OAAX,CAAmB,IAAnB,KAA4B,IAAhC,EAAsC;IAClC;IACAF,MAAM,CAACC,GAAP,GAAc,YAAWD,MAAM,CAACC,GAAI,EAApC;EACH,CALO,CAMR;;;EACAP,UAAU,CAACS,GAAX,CAAe,cAAf,MAAmCH,MAAM,CAACI,OAAP,CAAe,cAAf,IAAiCV,UAAU,CAACS,GAAX,CAAe,cAAf,CAApE;EACA,OAAOH,MAAP;AACH,CAVL,EAWKK,GAAD,IAAS;EACL,OAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CAbL;AAeAV,KAAK,CAACE,YAAN,CAAmBW,QAAnB,CAA4BT,GAA5B,CAAiCS,QAAD,IAAc;EAC1C,IAAIA,QAAQ,CAACC,IAAT,CAAcC,IAAlB,EAAwB;IACpB;IACA,OAAOF,QAAP;EACH,CAHD,MAGO;IACH,OAAOF,OAAO,CAACC,MAAR,CAAeC,QAAQ,CAACC,IAAxB,CAAP;EACH;AACJ,CAPD;AAQA,eAAed,KAAf"},"metadata":{},"sourceType":"module"}